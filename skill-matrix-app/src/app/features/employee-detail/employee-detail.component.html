<mat-card class="details">
  <mat-card *ngIf="employee" class="details__info">
    <button mat-button color="primary" routerLink="/detail/{{employee.id}}/edit" (click)="showForm()">Edit Employee</button>
    <mat-card-title class="details__info--title"
      >{{ employee.name | uppercase }}
      {{ employee.surname | uppercase }}</mat-card-title
    >
    <mat-card class="details__info--content">
      <mat-card-content
        >{{ "details.id" | translate }}: {{ employee.id }}</mat-card-content
      >
      <mat-card-content
        >{{ "details.name" | translate }}: {{ employee.name }}
        {{ employee.surname }}</mat-card-content
      >
      <mat-card-content
        >{{ "details.manager" | translate }} : {{ employee.manager?.name }}
        {{ employee.manager?.surname }}</mat-card-content
      >
      <mat-card-content
        >{{ "details.date" | translate }}:
        {{ employee.date | date: "dd.MM.yyyy" }}</mat-card-content
      >
      <mat-card-content
        >{{ "details.skills" | translate }}:
        {{ employee.skills }}</mat-card-content
      >
      <mat-card-content
        >{{ "details.projects" | translate }}:
        {{ employee.projects }}</mat-card-content
      >
    </mat-card>
  </mat-card>

  <mat-card class="details__form" id="employee-form" *ngIf="isFormVisible">
    <mat-card-title class="details__info--title">{{
      employee
        ? ("details.form.title.edit" | translate | uppercase)
        : ("details.form.title.add" | translate | uppercase)
    }}</mat-card-title>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <mat-form-field *ngIf="employee" class="details__form--field">
        <mat-label for="id">{{ "details.form.id" | translate }}</mat-label>
        <input
          matInput
          readonly
          id="id"
          formControlName="id"
          placeholder="{{ employee.id }}"
        />
      </mat-form-field>

      <mat-form-field class="details__form--field">
        <mat-label for="name" id="label"
          >{{ "details.form.name" | translate }}:</mat-label
        >
        <input
          matInput
          id="name"
          type="text"
          class="details__form--field-input"
          formControlName="name"
        />
      </mat-form-field>

      <mat-form-field class="details__form--field">
        <mat-label for="surname"
          >{{ "details.form.surname" | translate }}:</mat-label
        >
        <input
          matInput
          id="surname"
          type="text"
          class="details__form--field-input"
          formControlName="surname"
        />
      </mat-form-field>

      <mat-form-field class="details__form--field">
        <mat-label for="manager"
          >{{ "details.form.manager" | translate }}:</mat-label
        >
        <mat-select
          formControlName="manager"
          id="manager"
          class="details__form--field-select"
        >
          <mat-option
            *ngFor="let employeeOption of employeeList"
            [value]="employeeOption"
          >
            {{ employeeOption.name + " " + employeeOption.surname }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="details__form--field">
        <mat-label>{{ "details.form.date" | translate }}:</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="date" />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <mat-form-field class="details__form--field">
        <mat-label>{{ "details.form.skills" | translate }}:</mat-label>
        <mat-select
          multiple
          formControlName="skills"
          class="details__form--field-select"
        >
          <mat-option *ngFor="let skill of skills" [value]="skill">
            {{ skill }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="details__form--field">
        <mat-label>{{ "details.form.projects" | translate }}:</mat-label>
        <mat-select
          multiple
          formControlName="projects"
          class="details__form--field-select"
        >
          <mat-option *ngFor="let project of projects" [value]="project">
            {{ project }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <div class="details__form--button">
        <button mat-flat-button color="primary" type="submit">
          {{
            employee
              ? ("details.form.button.update" | translate)
              : ("details.form.button.register" | translate)
          }}
        </button>
      </div>
    </form>
    <button type="button" (click)="goBack()">go back</button>
  </mat-card>
</mat-card>
